<app-container>
  <header>
    <section class="cabecalho-link">
      <img src="../../../assets/imagens/Logo.png" alt="" />
      <div>
        <a [routerLink]="['/lista-contato']" routerLinkActive="router-link-active" >
          <img src="../../../assets/imagens/arrow-left.png" alt="" class="seta" />
          <span>Voltar</span>
        </a>
      </div>
    </section>
    <section class="cabecalho-contato">
      <img src="../../../assets/imagens/adicionar-contato.png" alt="" />
      <h1>Adicionar contato</h1>
    </section>
  </header>
  <form [formGroup]="contactForm" (ngSubmit)="salvarContato()">
    <label for="nome">Nome</label>
    <input
      type="text"
      id="nome"
      placeholder="Digite o nome do contato"
      formControlName="nome"
    />
    @if (contactForm.get('nome')?.errors && contactForm.get('nome')?.touched) {
      <div class="mensagem-erro">Campo obrigatório</div>
    }
    @if (contactForm.get('nome')?.errors?.['minlength'] && contactForm.get('nome')?.touched) {
      <div class="mensagem-erro">Nome digitado muito curto</div>
    }

    <label for="telefone">Número</label>
    <input
      type="text"
      id="telefone"
      placeholder="(00) 00000-0000"
      formControlName="telefone"
    />
    @if (contactForm.get('telefone')?.errors && contactForm.get('telefone')?.touched) {
      <div class="mensagem-erro">Campo obrigatório</div>
    }

    <label for="email">E-Mail</label>
    <input
      type="email"
      id="email"
      placeholder="Digite o email do contato"
      formControlName="email"
    />
    @if (contactForm.get('email')?.errors?.['required'] && contactForm.get('email')?.touched) {
      <div class="mensagem-erro">Campo obrigatório</div>
    }
    @if (contactForm.get('email')?.errors?.['email'] && contactForm.get('email')?.touched) {
      <div class="mensagem-erro">Formato de email inválido</div>
    }

    <app-separator></app-separator>

    <label for="aniversario">Aniversário</label>
    <input
      type="date"
      id="aniversario"
      placeholder="Data de nascimento"
      formControlName="aniversario"
    />

    <label for="redes">Redes Sociais</label>
    <div class="input-container">
      <span class="span-http">http://</span>
      <input
        type="url"
        id="redes"
        placeholder="Adicione a URL da página"
        formControlName="redes"
      />
    </div>

    <label for="observacoes">Observações</label>
    <textarea
      type="text"
      id="observacoes"
      placeholder="Coloque as observações do contato aqui. Exemplo: 'Não atende no horário comercial', 'Instrutora da academia'."
      formControlName="observacoes"
    ></textarea>

    <section class="botoes">
      <button (click)="cancelar()" class="botao-cancelar" type="button">
        Cancelar
      </button>
      <button
      [disabled]="!contactForm.valid"
      [ngClass]="{'botao-salvar': contactForm.valid, 'botao-desabilitado': !contactForm.valid}"
      type="submit"
      >
      Salvar contato
    </button>
    </section>
  </form>
</app-container>
